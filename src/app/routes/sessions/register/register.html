<div class="register-page">
  <!-- Brand glow orbs -->
  <div class="register-glow register-glow--left"></div>
  <div class="register-glow register-glow--right"></div>

  <div class="register-card-wrapper">
    <!-- Brand header -->
    <div class="register-brand">
      <div class="register-brand__icon">
        <svg
          width="32"
          height="32"
          viewBox="0 0 32 32"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="32" height="32" rx="10" fill="#0f969c" fill-opacity="0.2" />
          <path
            d="M8 20L14 10L20 16L24 12"
            stroke="#0f969c"
            stroke-width="2.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <circle cx="24" cy="12" r="2" fill="#6da5c0" />
        </svg>
      </div>
      <span class="register-brand__name">SkillBridge</span>
    </div>

    <!-- Card -->
    <div class="register-card">
      <div class="register-card__header">
        <h1 class="register-card__title">{{ 'register_welcome' | translate }},</h1>
        <p class="register-card__subtitle">Create your account to get started</p>
      </div>

      <mat-card-content class="register-card__content">
        <form class="register-form" [formGroup]="registerForm" (ngSubmit)="register()">
          <!-- Full Name -->
          <div class="form-group">
            <mat-form-field appearance="outline" class="register-field w-full">
              <mat-label>Full Name</mat-label>
              <input matInput formControlName="fullName" placeholder="John Doe" required />
              @if (fullName.invalid && fullName.touched) {
                <mat-error>
                  @if (fullName.errors?.['required']) {
                    <span>Full name is required</span>
                  }
                  @if (fullName.errors?.['minlength']) {
                    <span>At least 2 characters</span>
                  }
                </mat-error>
              }
            </mat-form-field>
          </div>

          <!-- Email -->
          <div class="form-group">
            <mat-form-field appearance="outline" class="register-field w-full">
              <mat-label>Email</mat-label>
              <input
                matInput
                type="email"
                formControlName="email"
                placeholder="you@example.com"
                required
              />
              @if (email.invalid && email.touched) {
                <mat-error>
                  @if (email.errors?.['required']) {
                    <span>Email is required</span>
                  }
                  @if (email.errors?.['email']) {
                    <span>Enter a valid email address</span>
                  }
                </mat-error>
              }
            </mat-form-field>
          </div>

          <!-- Password -->
          <div class="form-group">
            <mat-form-field appearance="outline" class="register-field w-full">
              <mat-label>{{ 'password' | translate }}</mat-label>
              <input matInput type="password" formControlName="password" required />
              @if (password.invalid && password.touched) {
                <mat-error>
                  @if (password.errors?.['required']) {
                    <span>Password is required</span>
                  }
                  @if (password.errors?.['minlength']) {
                    <span>At least 6 characters</span>
                  }
                </mat-error>
              }
            </mat-form-field>
          </div>

          <!-- Confirm Password -->
          <div class="form-group">
            <mat-form-field appearance="outline" class="register-field w-full">
              <mat-label>{{ 'confirm_password' | translate }}</mat-label>
              <input matInput type="password" formControlName="confirmPassword" required />
              @if (confirmPassword.touched) {
                <mat-error>
                  @if (confirmPassword.errors?.['required']) {
                    <span>{{ 'validation.required' | translate }}</span>
                  }
                  @if (confirmPassword.errors?.['mismatch']) {
                    <span>Passwords do not match</span>
                  }
                </mat-error>
              }
            </mat-form-field>
          </div>

          <!-- Submit -->
          <button
            class="register-btn w-full"
            matButton="filled"
            type="submit"
            [disabled]="registerForm.invalid || isSubmitting"
            [loading]="isSubmitting"
          >
            Create Account
          </button>

          <!-- Login link -->
          <div class="register-footer">
            <span>{{ 'have_an_account' | translate }}?</span>
            <a routerLink="/auth/login" class="register-footer__link">
              {{ 'login' | translate }}
            </a>
          </div>
        </form>
      </mat-card-content>
    </div>
  </div>
</div>
